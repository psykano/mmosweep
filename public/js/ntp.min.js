!function(n){var t,e={},o=[];e.init=function(n,e){e=e||{},t=n,t.on("ntp:server_sync",f),setInterval(i,e.interval||1e3)};var f=function(n){var t=Date.now()-n.t1+(Date.now()-n.t0)/2;o.unshift(t),o.length>10&&o.pop()};e.offset=function(){for(var n=0,t=0;t<o.length;t++)n+=o[t];return o.length>0&&(n/=o.length),n};var i=function(){t.emit("ntp:client_sync",{t0:Date.now()})};"function"==typeof define&&define.amd?define("ntp",[],function(){return e}):"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(module.exports=e),exports.ntp=e):n.ntp=e}(window);